 <!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<script src="library/d3.min.js" charset="utf-8"></script>
		<title>Visualization</title>
	</head>
	<body>
		<script>      
        d3.json('data/data.json',loaded);  //data/data-corretto.json
            
        function loaded (articles){
               
            // creo gli SVG
            var svgbox = d3.select("body")//.append("svg")
                .selectAll('svg')
                .data(articles)
                .enter()
                .append('svg')
                .attr("width", 150)
                .attr("height", 150)
                .attr("transform", function(d,i){
                    return 'translate(' + (i*170) + ',0)' // (traslazione x) , (traslazione y)
                })
            
            // creo i gruppi
            /*var gbox = svgbox.append("g")
                .select('g')
                .data(articles)
                .enter()
                .append('g')
                .attr("width", 150)
                .attr("height", 150)
                .attr("transform", function(d,i){
                    return 'translate(' + (i*170) + ',0)' // (traslazione x) , (traslazione y)
                })
                .attr("transform", "scale(1)")*/
                
            // creo i rettangoli di quantity
            var quantity = svgbox.append("rect")
                .data(articles)
                .attr("height", function (d,i) { return (Math.sqrt(+d.quantity)*5 )})
                .attr("width", function (d,i) { return (Math.sqrt(+d.quantity)*5 )})
                .attr("transform", function (d,i) {
                    return  'translate(' + (45 - (Math.sqrt(+d.quantity)*5)) + ',' + (35 - (Math.sqrt(+d.quantity)*5)) + ')' // (traslazione x) , (traslazione y)   
                })
                .attr("fill", "red")
            
            // creo i rettangoli di quality
            var quality = svgbox.append("rect")
                .data(articles)
                .attr("height", function (d,i) { return (Math.sqrt(+d.quality)*5 )})
                .attr("width", function (d,i) { return (Math.sqrt(+d.quality)*5 )})
                .attr("transform", function (d,i) {
                    return  'translate(' + (40 - (Math.sqrt(+d.quality)*4))  + ',40)' // (traslazione x) , (traslazione y)   
                })
                .attr("fill", "green")
    
            // creo i rettangoli di languages
            var language = svgbox.append("rect")
                .data(articles)
                .attr("width", function(d) { return (Math.sqrt(d.languages.length)*4 ) }) //(d.languages.length)/4 
                .attr("height", function(d) { return (Math.sqrt(d.languages.length)*4 )})
                .attr("transform", 'translate(50,40)') // (traslazione x) , (traslazione y)
                .attr("fill", "orange")
            
            // creo i rettangoli di categories
            var categories = svgbox.append("rect")
                .data(articles)
                .attr("width", function(d) { return (Math.sqrt(d.categories.length)*4 )})
                .attr("height", function(d) { return (Math.sqrt(d.categories.length)*4 )})
                .attr("transform", function (d,i) {
                    return  'translate(50,' + (35 - (Math.sqrt( d.categories.length)*4)) + ')' // (traslazione x) , (traslazione y)   
                })
                .attr("fill", "blue")
            
            var title = svgbox.append("text")
                .data(articles)
                .attr("y", 120)
                .text(function(d) { return d.title; });
            
            console.log(articles);

        }
            
/*

==============================
Riferimenti
==============================

Nest
http://bl.ocks.org/phoebebright/raw/3176159/
http://matthewfieger.com/posts/me/2014/06/27/nesting_data_for_d3.html

http://chimera.labs.oreilly.com/books/1230000000345/ch07.html#_other_methods
https://www.dashingd3js.com/data-structures-d3js-accepts
http://ireneros.com/conf/nicar/introduction-to-d3.html#45


*/
        </script>

	</body>

</html> 