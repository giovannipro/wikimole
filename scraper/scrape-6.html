<html>
	<body>
		<!-- Lo script funziona se inserito su htdocs-->
		<script src="jquery.min.js"></script>
		<script src="jquery.xdomainajax.js"></script>

		<script type="text/javascript">

		var url1 = "https://en.wikipedia.org/wiki/Walter_Sisulu"
		var url2 = "http://en.wikipedia.org/w/index.php?title=Nelson_Mandela&action=history" // non funziona
		var url3 = "https://en.wikipedia.org/wiki/Mahatma_Gandhi"
		var url4 = "https://en.wikipedia.org/w/index.php?title=Mahatma_Gandhi&action=edit" // non funziona
		var url5 = "https://en.wikipedia.org/w/index.php?title=Mahatma_Gandhi&action=info" // non funziona
		var url6 = "http://en.wikipedia.org/wiki/Special:WhatLinksHere/Mahatma_Gandhi" // non funziona
		

		https://en.wikipedia.org/w/index.php?title=Mahatma_Gandhi&action=edit

		var urlproxy = "http://localhost:8888/wikimole/scraper/proxy.php"

		var url = urlproxy + "?url=" + url1

			$.ajax({
	           type: 'POST', //GET
	           url: url,
	           processData: true,
	           //data: data,
	           //dataType: "html"
	        })
			.done (function (res) {
	        	//processData(data);

	        	var parsedata = $.parseHTML(res);

	        	languages = []
	        	languages = ($(parsedata).find('.interlanguage-link')) //.get(1))

				categories = []
				categories = ($(parsedata).find('#catlinks').children('#mw-normal-catlinks').children('ul').children('li'))

				quality = []
				quality = ($(parsedata).find('.mw-indicator')) 

				template = []
				template = ($(parsedata).find('.templatesUsed'))

				history = []
				history = ($(parsedata).find('#pagehistory'))

				links = []
				links = ($(parsedata).find('#mw-whatlinkshere-list'))

	        	$('#response').html("Success! Page loaded")	
				$('#content1').html(languages)
				$('#content2').html(quality)

				$('#content3').html(template)
				$('#content4').html(history)
				$('#content5').html(links)
				
				
				languages.each(function( index ) {
					$('#content2').append(
						index + ": " + $(this).html() + "<br/>"
					);					
					//console.log ( index + ": " + $( this ).text() );
				});


				//for(i in $('.body')) console.log(i)

				/*
				var newDiv = document.createElement("div");
				newDiv.innerHTML = "simple text";
				$("#content")[0].appendChild(newDiv);
				*/

	        	//console.log(languages)
	        	console.log("Done")

	        })
	        .fail( function(xhr, textStatus, errorThrown) {
		        $('#response').html("Error! Page is not loaded")	        
			        console.log(languages.message);
			        console.log ("Fail")
	    	})

	    	console.log("Webpage: " + url)
			 
			/*function processData(data){
			 	//Do some stuff with the data
			 	console.log(data)
			 	console.log("Done")
			}*/

		</script>

	<main>
		<h1>Content</h1>
		<!--<button id="trigger">GET data</button>-->

		<p>Se non riesco a screpare qualcosa, usare Scraper (estensione Chrome), Outbit</p>
		<div id="response"></div>
		<div id="content1" class="box"></div>
		<div id="content2" class="box"></div>
		<div id="content3" class="box"></div>
		<div id="content4" class="box"></div>
		<div id="content5" class="box"></div>
	</main>


	</body>

	<style>
		#content{
			width: 80%;
			height: 300px;
		}
		.box{
			width: 18%;
			float:left;
		}
	</style>

</html>


<!--

Convertitore Unix timestamp to Readable Date/time
http://www.onlineconversion.com/unix_time.htm



-->