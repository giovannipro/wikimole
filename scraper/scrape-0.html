<!DOCTYPE html>
	<head>
		<title>Scraper</title>
		<script src="jquery.min.js"></script>
		<script type="text/javascript">
			/*!
			 * jQuery-ajaxTransport-XDomainRequest - v1.0.3 - 2014-06-06
			 * https://github.com/MoonScript/jQuery-ajaxTransport-XDomainRequest
			 * Copyright (c) 2014 Jason Moon (@JSONMOON)
			 * Licensed MIT (/blob/master/LICENSE.txt)
			 */
			(function(a){if(typeof define==='function'&&define.amd){define(['jquery'],a)}else if(typeof exports==='object'){module.exports=a(require('jquery'))}else{a(jQuery)}}(function($){if($.support.cors||!$.ajaxTransport||!window.XDomainRequest){return}var n=/^https?:\/\//i;var o=/^get|post$/i;var p=new RegExp('^'+location.protocol,'i');$.ajaxTransport('* text html xml json',function(j,k,l){if(!j.crossDomain||!j.async||!o.test(j.type)||!n.test(j.url)||!p.test(j.url)){return}var m=null;return{send:function(f,g){var h='';var i=(k.dataType||'').toLowerCase();m=new XDomainRequest();if(/^\d+$/.test(k.timeout)){m.timeout=k.timeout}m.ontimeout=function(){g(500,'timeout')};m.onload=function(){var a='Content-Length: '+m.responseText.length+'\r\nContent-Type: '+m.contentType;var b={code:200,message:'success'};var c={text:m.responseText};try{if(i==='html'||/text\/html/i.test(m.contentType)){c.html=m.responseText}else if(i==='json'||(i!=='text'&&/\/json/i.test(m.contentType))){try{c.json=$.parseJSON(m.responseText)}catch(e){b.code=500;b.message='parseerror'}}else if(i==='xml'||(i!=='text'&&/\/xml/i.test(m.contentType))){var d=new ActiveXObject('Microsoft.XMLDOM');d.async=false;try{d.loadXML(m.responseText)}catch(e){d=undefined}if(!d||!d.documentElement||d.getElementsByTagName('parsererror').length){b.code=500;b.message='parseerror';throw'Invalid XML: '+m.responseText;}c.xml=d}}catch(parseMessage){throw parseMessage;}finally{g(b.code,b.message,c,a)}};m.onprogress=function(){};m.onerror=function(){g(500,'error',{text:m.responseText})};if(k.data){h=($.type(k.data)==='string')?k.data:$.param(k.data)}m.open(j.type,j.url);m.send(h)},abort:function(){if(m){m.abort()}}}})}));
		</script>
	</head>
	<body>

		<main>
			<div id="Div1">Ciao</div>
			<!--<div id="x" style="float:right;">X</div>
			<div class="clear"></div>-->

			<div id="background_hover"></div>
			<!--<iframe id="external" src="http://blog.arduino.cc/2015/03/30/a-new-arduino-store-for-the-us-market/" style="width:100%; height:400px" scrolling="no"></iframe>-->
			<div id="result" style="width: 100%; height: 400px"></div>
			<div id="result2"></div>
			
		</main>

		<script type="text/javascript">

		   	var MyDiv1 = document.getElementById('external');
		   	var colors = ['red','rebeccapurple','blue','yellow','orange']
		   	//var newdiv = '<div id="background_hover"></div>'

		   	// box colorato che appare sopra l'iframe
		   	$(document).ready(function(){
		   		$('#background_hover').css({opacity:0})
		   		$('#Div1').on('click', function(){
		   			//$('#result').html(newdiv)
		   			//$('#background_hover').delay(6000).remove()
					//$('#result').html(newdiv).delay(1000).animate({opacity:0},1000)
		   			$('#background_hover')
		   				.css({opacity:1})
		   				.delay(200).animate({opacity:0},1000)
		   		})
		   		$('#x').on('click', function(){
		   			$('#background_hover').remove()
		   		})
			})

			$('#result').append(MyDiv1);

			var url = "http://www.mr-cup.com/blog.html #content";
			var url1 = "https://it.wikipedia.org/wiki/Bolzano";
			var url2 = "http://www.mr-cup.com/blog.html";

			$.ajax({
			  	type: 'GET',
			  	url: 'http://www.html5rocks.com/en/tutorials/file/xhr2/', 
			  	success: function(response) {
			      	var article = $(response).find('#article-meta').html();
			      	$('#result').html(article); //article
			  }
			});

		    /*
			
			// NON FUNZIONANO
		    $('#DIV3').append(MyDiv1);

		    $( "#result" ).load( "https://it.wikipedia.org/wiki/Bolzano #content #bodyContent", function() {
				alert( "Load was performed." );
			});
			
		    $.ajax({
			   	url: 'http://www.corsproxy.com/' + "https://it.wikipedia.org/wiki/Bolzano",
			   	type:'GET',
			   	success: function(data){
			    	$('#content').html(  $(data).find('#content') );
			   	}
			});

			$.get(url2, function (data) {
        		console.log(data)
        		alert(data);
        	});
	
        	$.ajax({
			  crossOrigin: true,
			  url: url2,
			  success: function(data) {
				console.log(data);
			  }
			});

			$(function(){
				var contentURI= url + '#content';
				$('#result').load('grab.php?url='+ contentURI);
			});

			$( "#result" ).load( url1, function( response, status, xhr ) {
				if ( status == "error" ) {
					var msg = "Sorry but there was an error: ";
					$( "#error" ).html( msg + xhr.status + " " + xhr.statusText );
				}
			});

			$.ajax({
			    type:     "GET",
			    url:      "https://it.wikipedia.org/wiki/Bolzano #content", 
			    dataType: "jsonp",
			    success: function(data){
			        console.log(data);
			    }
			});

			*/

			/*

			// FUNZIONANO
			var a = $(location).attr('host'); 		//www.test.com:8082
			var b = $(location).attr('hostname');   //www.test.com
			var c = $(location).attr('port');       //8082
			var d = $(location).attr('protocol');   //http
			var e = $(location).attr('pathname');   //index.php
			var f = $(location).attr('href');       //http://www.test.com:8082/index.php#tab2
			var g = $(location).attr('hash');       //#tab2
			var h = $(location).attr('search');


			$('#result').append(a + '<br/>' + b + '<br/>'+ c + '<br/>'+ d + '<br/>' + e + '<br/>' + f + '<br/>' + g + '<br/>' + h ); 
			*/

		</script>
		<style type="text/css">
			body {
				/*overflow: hidden;*/
				margin: 0;
				padding: 0;
			}
			main{
				padding: 3%;
			}
			.clear{
				clear: both;
			}
			iframe{
				border: none;
				height: 400px;
			}
			#background_hover {
				width: 94%;
				background-color: rebeccapurple;
				height: 400px;
				z-index: 1;
				position: absolute;
			}
		</style>
	</body>
</html>